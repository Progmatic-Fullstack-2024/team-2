generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           String         @id @default(cuid())
  lastName     String
  firstName    String
  email        String         @unique()
  phone        String?
  password     String
  role         String   
}

model Performance {
  id           String         @id @default(cuid())
  title        String
  theater      Theater        @relation(fields: [theaterId], references: [id]) 
  theaterId    String
  creators     Creator        @relation(fields: [creatorId], references: [id])
  creatorId    String
  posterURL    String?
  imagesURL    String[] @default([])
  performanceDate DateTime[]  @default([])
  description  String
  price        Int
}

model Creator {
  id           String         @id @default(cuid())
  name         String
  imageURL     String?
  performances Performance[]
}

model Theater {
  id           String         @id @default(cuid())
  name         String
  address      String
  email        String?
  imageURL     String?
  phone        String?
  seats        Int
  performances Performance[]    
}